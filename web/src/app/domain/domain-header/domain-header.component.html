<form [formGroup]="domainForm" novalidate>
  <div class="row align-items-center">

    <div class="col-8 col-md-2">
      <h1 *ngIf="!editable">{{initialDomain.code}}</h1>

      <div *ngIf="editable" class="form-group col-xs-2">
        <label class="sr-only" for="code">Code</label>
        <input class="form-control form-control-lg"
               id="code"
               formControlName="code"
               placeholder="Code"
               aria-label="Code"
               minlength="3"
               maxlength="6"
               container="body"
               placement="bottom"
               triggers="manual"
               #codeErrorsPopover="ngbPopover"
               [ngbPopover]="codeErrors"/>
      </div>
      <ng-template #codeErrors>
        <div class="alert alert-danger">
          {{ domainFormErrors.code }}
        </div>
      </ng-template>
    </div>

    <div class="col-4 col-md-1 push-md-9 text-center align-self-baseline">
      <button *ngIf="!editable" class="btn btn-outline-secondary" (click)="editDomain()">
        <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
      </button>

      <button *ngIf="editable" class="btn btn-outline-primary" (click)="submitDomain()" [disabled]="!valid">
        <i class="fa fa-floppy-o" aria-hidden="true"></i>
      </button>
    </div>

    <div class="col-md-4 pull-md-1">
      <mark *ngIf="!editable">{{initialDomain.description}}</mark>

      <div *ngIf="editable" class="form-group">
        <label class="sr-only" for="description">Description</label>
        <input class="form-control"
               id="description"
               formControlName="description"
               placeholder="Description"
               aria-label="Description"
               maxlength="50"
               container="body"
               placement="bottom"
               triggers="manual"
               #descriptionErrorsPopover="ngbPopover"
               [ngbPopover]="descriptionErrors"/>
      </div>
      <ng-template #descriptionErrors>
        <div class="alert alert-danger">
          {{ domainFormErrors.description }}
        </div>
      </ng-template>
    </div>

    <div class="col-md-5 pull-md-1 text-right">
      <div class="form-group pull-right">
        <div *ngIf="!editable" class="input-group">
          <span *ngFor="let languageTag of initialDomain.supportedLanguageTags" class="input-group-addon d-inline">
            {{languageTag}}
            <i *ngIf="languageTag == initialDomain.defaultLanguageTag" class="fa fa-check" aria-hidden="true"></i>
          </span>
        </div>

          <app-domain-header-languages *ngIf="editable"
            #languagesInput
            [(supportedLanguageTags)]="supportedLanguageTags"
            [(defaultLanguageTag)]="defaultLanguageTag">
          </app-domain-header-languages>
      </div>
    </div>

  </div>
</form>
